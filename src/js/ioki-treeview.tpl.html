<div ng-class="{'expanded': treedata.expanded, 'selected': treedata.selected}"
     ng-click="$selectNode()">
    <!-- expander icon -->
    <i class="expander {{treesettings.iconsBaseClass}}"
       ng-class="(treedata.subnodes && treesettings.showExpander) ? (treedata.expanded ? treesettings.interfaceIcons.openDir : treesettings.interfaceIcons.closeDir) : 'invisible'"
       ng-click="$toggleNode()"></i>

    <!-- node icon -->
    <i class="{{treesettings.iconsBaseClass}} {{treedata | getNodeIcon: treesettings.icons}}"></i>

    <!-- node label -->
    <span>{{ treedata.name }}</span>

    <!-- remove node icon -->
    <i class="remove-node {{treesettings.iconsBaseClass}} {{treesettings.interfaceIcons.removeNode}}"
       ng-click="$removeNode()"
       ng-class="{'invisible': !treedata.$removable}"></i>

    <!-- add node icon -->
    <i class="add-node {{treesettings.iconsBaseClass}} {{treesettings.interfaceIcons.addNode}}"
       ng-click="$addNode()"
       ng-class="{'invisible': (!treesettings.addable || !treedata.subnodes)}"></i>
</div>
<ul ng-class="{'expanded': treedata.expanded}">
    <li ng-repeat="subnode in treedata.subnodes track by $index">
        <treeview treedata="subnode" treesettings="treesettings"></treeview>
    </li>
</ul>